<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="og:image" content="https://i.ibb.co/3yPZ0Rmq/IMG-3336.png" />
    <meta name="og:site_name" content="Wish_page" />
    <meta name="og:description" content="Christmas" />
    <title>Christmas Gift - Kranti Matrix</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Mountains+of+Christmas:wght@700&family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: #050505; min-height: 100vh; overflow-x: hidden; display: flex; align-items: center; justify-content: center; font-family: 'Poppins', sans-serif; color: #fff; }
        #snow-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 50; }
        .light-strip { position: fixed; top: 0; width: 100%; height: 20px; display: flex; justify-content: space-around; z-index: 1001; }
        .light-bulb { width: 12px; height: 12px; border-radius: 50%; animation: flash 1s infinite alternate; }
        @keyframes flash { 0% { opacity: 0.4; box-shadow: 0 0 2px white; } 100% { opacity: 1; box-shadow: 0 0 10px white; } }

        /* ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡ßç‡¶∏ ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü‡ßá‡¶® */
        #curtain { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle, #b30000, #4a0000); z-index: 1000; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; transition: 1s; }
        .name-input { padding: 15px; width: 280px; border-radius: 50px; border: none; margin-bottom: 20px; text-align: center; font-size: 1.1rem; outline: none; color: #333; }

        /* ‡¶Æ‡ßá‡¶á‡¶® ‡¶∏‡ßç‡¶ü‡ßá‡¶ú */
        .main-stage { text-align: center; padding: 40px 20px; width: 100%; max-width: 800px; z-index: 100; }
        .tv-frame { width: 100%; max-width: 500px; margin: 20px auto; aspect-ratio: 16/9; background: #333; border-radius: 20px; padding: 10px; position: relative; box-shadow: 0 0 40px rgba(255, 0, 0, 0.5); border: 5px solid #444; animation: float 4s ease-in-out infinite; display: none; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
        .screen { width: 100%; height: 100%; background: #000; border-radius: 10px; overflow: hidden; }
        
        .curtain-image-box { width: 80%; max-width: 300px; margin-bottom: 20px; border-radius: 15px; overflow: hidden; border: 3px solid #ffcf00; }

        /* Buttons */
        .btn { padding: 12px 25px; border-radius: 50px; border: none; font-weight: bold; cursor: pointer; transition: 0.3s; margin: 10px 5px; text-decoration: none; display: inline-block; }
        .open-btn { background: #ffcf00; color: #000; box-shadow: 0 5px 15px rgba(255, 207, 0, 0.4); }
        .wa-btn { background: #25d366; color: #fff; font-size: 1.1rem; }
        
        /* Message Box */
        .sender-message-box { background: rgba(255, 255, 255, 0.1); border-left: 5px solid #ffcf00; padding: 20px; margin: 20px auto; border-radius: 10px; max-width: 90%; backdrop-filter: blur(5px); display: none; text-align: left; }
        .sender-label { color: #ffcf00; font-size: 0.9rem; font-weight: bold; }

        /* Shiny Text */
        .shiny-text { font-family: 'Mountains of Christmas', cursive; font-size: 3.5rem; color: #fff; animation: pulsate 1.5s infinite alternate; margin-bottom: 20px; }
        @keyframes pulsate { 
            0% { text-shadow: 0 0 10px #ffcf00; transform: scale(1); }
            100% { text-shadow: 0 0 30px #ff0000, 0 0 50px #ffcf00; transform: scale(1.05); }
        }

        #sharePopup { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #222; padding: 25px; border-radius: 20px; z-index: 3000; border: 2px solid #ffcf00; width: 90%; max-width: 400px; text-align: center; }
        .popup-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 2999; }
        #sharePopup input { width: 100%; padding: 12px; margin: 10px 0; border-radius: 10px; border: none; background: #333; color: #fff; }

        @media (max-width: 600px) { .shiny-text { font-size: 2.5rem; } }
    </style>
</head>
<body>

    <div class="light-strip" id="lights"></div>
    <canvas id="snow-canvas"></canvas>

    <div class="popup-overlay" id="overlay"></div>
    <div id="sharePopup">
        <h3 style="color:#ffcf00">‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ üéÅ</h3>
        <input type="text" id="fromName" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ (Sender)">
        <input type="text" id="toName" placeholder="‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶∞ ‡¶®‡¶æ‡¶Æ (Receiver)">
        <button class="btn wa-btn" onclick="finalShare()">‡¶π‡ßã‡ßü‡¶æ‡¶ü‡¶∏‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶® <i class="fab fa-whatsapp"></i></button>
        <button class="btn" onclick="closePopup()" style="background:#555; color:#fff;">‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®</button>
    </div>

    <div id="curtain">
        <div class="curtain-image-box">
            <img src="https://i.ibb.co/3yPZ0Rmq/IMG-3336.png" alt="Christmas" style="width: 100%; display: block;">
        </div>
        <h2 id="curtainTitle" style="padding: 0 20px; margin-bottom: 20px;">üéÑ Kranti Matrix üéÑ<br>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶â‡¶™‡¶π‡¶æ‡¶∞ ‡¶Ü‡¶õ‡ßá!</h2>
        <input type="text" id="userInput" class="name-input" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...">
        <button class="btn open-btn" onclick="startExperience()">‡¶â‡¶™‡¶π‡¶æ‡¶∞‡¶ü‡¶ø ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶® üéÅ</button>
    </div>

    <div class="main-stage">
        <h1 class="shiny-text">Merry Christmas</h1>
        
        <div id="senderNameDisplay" class="sender-message-box">
            <span class="sender-label">To: <span id="toNameDisplay" style="color:#fff">‡¶™‡ßç‡¶∞‡¶ø‡ßü</span></span>
            <h3 id="nameText" style="color:#ffff66; font-size: 1.8rem; margin: 5px 0;"></h3>
            <p style="color: #ddd; line-height: 1.5;">‚Äú‡¶è‡¶á ‡¶â‡ßé‡¶∏‡¶¨‡¶ü‡¶ø ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶π‡ßÉ‡¶¶‡ßü‡ßá ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶æ ‡¶¨‡¶Ø‡¶º‡ßá ‡¶Ü‡¶®‡ßÅ‡¶ï ‡¶è‡¶¨‡¶Ç ‡¶Ü‡¶ó‡¶æ‡¶Æ‡ßÄ ‡¶¨‡¶õ‡¶∞‡¶ü‡¶ø ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶‡ßá ‡¶ï‡¶æ‡¶ü‡ßÅ‡¶ï‡•§ ‡¶∂‡ßÅ‡¶≠ ‡¶¨‡ßú‡¶¶‡¶ø‡¶®! ‚ùÑÔ∏èüéÅüéÑ‚Äù</p>
        </div>

        <div class="tv-frame" id="imageFrame">
            <div class="screen">
                <img src="https://krantimatrix.pages.dev/IMG_3324.jpeg" alt="Wish Image" style="width: 100%; height: 100%; object-fit: cover;">
            </div>
        </div>

        <button class="btn wa-btn" onclick="openSharePopup()">üöÄ ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶∞‡¶™‡ßç‡¶∞‡¶æ‡¶á‡¶ú ‡¶¶‡¶ø‡¶®</button>
        <a href="https://www.effectivegatecpm.com/t6q61drxs?key=336d5cf1c7cfcac820ee9dbbb642adae" class="btn" style="background: #ffcf00; color: #000;">‡¶Ü‡¶∞‡ßã ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶∏‡ßá‡¶ú ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</a>

        <div class="social-links" style="margin-top: 30px; display: flex; justify-content: center; gap: 20px;">
            <a href="https://facebook.com/kranti.matrix" target="_blank" style="color:#fff; font-size: 1.5rem;"><i class="fab fa-facebook"></i></a>
            <a href="https://instagram.com/kranti.matrix" target="_blank" style="color:#fff; font-size: 1.5rem;"><i class="fab fa-instagram"></i></a>
        </div>
    </div>

    <audio id="customAudio" loop preload="auto">
        <source src="https://krantimatrix.pages.dev/63vwu-l69ia.ogg" type="audio/ogg">
    </audio>

    <script>
        // ‡¶∏‡ßç‡¶®‡ßã ‡¶è‡¶¨‡¶Ç ‡¶≤‡¶æ‡¶á‡¶ü
        const lightStrip = document.getElementById('lights');
        const colors = ['#ff0000', '#00ff00', '#ffcf00', '#0000ff'];
        for(let i=0; i<30; i++) {
            let bulb = document.createElement('div');
            bulb.className = 'light-bulb';
            bulb.style.background = colors[i % colors.length];
            bulb.style.animationDelay = (Math.random() * 2) + 's';
            lightStrip.appendChild(bulb);
        }

        const canvas = document.getElementById('snow-canvas');
        const ctx = canvas.getContext('2d');
        let width, height, particles = [];
        function init() {
            width = window.innerWidth; height = window.innerHeight;
            canvas.width = width; canvas.height = height;
            particles = [];
            for (let i = 0; i < 80; i++) {
                particles.push({ x: Math.random() * width, y: Math.random() * height, size: Math.random() * 3 + 1, speed: Math.random() * 1.5 + 0.5 });
            }
        }
        function draw() {
            ctx.clearRect(0, 0, width, height);
            ctx.fillStyle = "white";
            for (let p of particles) {
                ctx.beginPath(); ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2); ctx.fill();
                p.y += p.speed; if(p.y > height) p.y = -10;
            }
            requestAnimationFrame(draw);
        }

        // ‡¶á‡¶â‡¶Ü‡¶∞‡¶è‡¶≤ ‡¶ö‡ßá‡¶ï
        window.onload = () => {
            const params = new URLSearchParams(window.location.search);
            const n = params.get('n');
            const t = params.get('t');
            if(n) {
                document.getElementById('curtainTitle').innerHTML = `üéÑ <span style="color:#ffcf00">${decodeURIComponent(n)}</span> ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶â‡¶™‡¶π‡¶æ‡¶∞ ‡¶™‡¶æ‡¶†‡¶ø‡ßü‡ßá‡¶õ‡ßá! üéÑ`;
            }
        };

        function startExperience() {
            const name = document.getElementById('userInput').value.trim();
            if(!name) { alert("‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®!"); return; }

            const params = new URLSearchParams(window.location.search);
            document.getElementById('nameText').innerText = name;
            document.getElementById('toNameDisplay').innerText = params.get('t') ? decodeURIComponent(params.get('t')) : "‡¶™‡ßç‡¶∞‡¶ø‡ßü ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ";
            
            gsap.to("#curtain", { y: "-100%", duration: 1.2, ease: "power4.inOut", onComplete: () => {
                document.getElementById('curtain').style.display = 'none';
                document.getElementById('senderNameDisplay').style.display = 'block';
                document.getElementById('imageFrame').style.display = 'block';
            }});

            document.getElementById('customAudio').play().catch(() => console.log("Audio play blocked by browser"));
        }

        function openSharePopup() { 
            document.getElementById('sharePopup').style.display = 'block'; 
            document.getElementById('overlay').style.display = 'block'; 
        }
        function closePopup() { 
            document.getElementById('sharePopup').style.display = 'none'; 
            document.getElementById('overlay').style.display = 'none'; 
        }

        function finalShare() {
            const from = document.getElementById('fromName').value || "Kranti Matrix";
            const to = document.getElementById('toName').value || "‡¶¨‡¶®‡ßç‡¶ß‡ßÅ";
            const url = window.location.origin + window.location.pathname + `?n=${encodeURIComponent(from)}&t=${encodeURIComponent(to)}`;
            const text = `üéÑ *${to}*, ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶ú‡¶æ‡¶¶‡ßÅ‡¶ï‡¶∞‡ßÄ ‡¶∏‡¶æ‡¶∞‡¶™‡ßç‡¶∞‡¶æ‡¶á‡¶ú! üéÅ\n‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®: ${url}`;
            window.open(`https://api.whatsapp.com/send?text=${encodeURIComponent(text)}`, '_blank');
        }

        window.addEventListener('resize', init);
        init(); draw();
    </script>
</body>
</html>
